通用方案: http://wiki.vhallops.com/pages/viewpage.action?pageId=7176198